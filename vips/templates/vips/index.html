{%  extends 'base.html' %}
{% load staticfiles %}
{% block content %}
<script>

</script>
{% if devices %}
<div class="tabbable tabs-left"> <!-- Only required for left/right tabs -->
  <ul class="nav nav-tabs">
    <li class="active"><a href="#tab1" data-toggle="tab">Summary</a></li>
    {% for device in devices %}
      <li id="device{{ device.id }}"><a href="#tab{{ device.id }}" data-toggle="tab">{{ device.label }}</a></li>
      {% endfor %}
  </ul>
<div class="tab-content">
    <div class="tab-pane active" id="tab1">
        <p>There is nothing here yet, click on a tab</p>
    </div>
    {% for device in devices %}
        <div class="tab-pane" id="tab{{ device.id }}">
        <div class="row">
        <div class="col-lg-5">
            <table class="table table-bordered table-condensed">
                <thead>
                <tr>
                    <th colspan="5" class="text-center">Total Vips: {{ device.vips.count }}</th>
                </tr>
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Port</th>
                    <th>State</th>
                    <th>Effective State</th>
                </tr>

                </thead>
                <tbody>
                {% for vip in device.vips.all %}
                    <tr>
                    <td>{{ vip.label }}</td>
                    <td>{{ vip.address }}</td>
                    <td>{{ vip.port }}</td>
                        {% if vip.state == "UP" %}
                            <td><span class='label label-success'>{{ vip.state }}</span></td>
                        {% else %}
                            <td><span class="label label-default">{{ vip.state }}</span></td>
                        {% endif %}
                    {% if vip.effective_state == "UP"%}
                        <td><span class="label label-success">{{ vip.effective_state }}</span></td>
                    {% else %}
                        <td><span class="label label-default">{{ vip.effective_state }}</span></td>
                    {% endif %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        </div>
        </div>
</div>
    {% endfor %}
</div>
{% else %}
    <div>
    <p>there is nothing in the database</p>
    </div>
{% endif %}

{% endblock %}
